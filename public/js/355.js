/*! For license information please see 355.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[355],{1951:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});var a=r(3645),i=r.n(a)()((function(t){return t[1]}));i.push([t.id,".result[data-v-b54615ec]{border-radius:15px}",""]);const n=i},3366:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});var a=r(3645),i=r.n(a)()((function(t){return t[1]}));i.push([t.id,".result[data-v-a38665f0]{align-self:center;border-radius:15px;min-height:420px}",""]);const n=i},921:t=>{t.exports="/images/qrcode.png?9a681bdd5a88b9836cee73611e0a870d"},9355:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>C});var a=r(9669),i=r.n(a),n=r(3020),o=r.n(n),s=r(9755);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(){d=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",n=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,a){var i=e&&e.prototype instanceof f?e:f,n=Object.create(i.prototype),o=new E(a||[]);return n._invoke=function(t,e,r){var a="suspendedStart";return function(i,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===i)throw n;return T()}for(r.method=i,r.arg=n;;){var o=r.delegate;if(o){var s=x(o,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var c=h(t,e,r);if("normal"===c.type){if(a=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a="completed",r.method="throw",r.arg=c.arg)}}}(t,r,o),n}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function p(){}function m(){}var v={};s(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==e&&r.call(y,i)&&(v=y);var w=m.prototype=f.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function a(i,n,o,s){var l=h(t[i],t,n);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,o,s)}),(function(t){a("throw",t,o,s)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return a("throw",t,o,s)}))}s(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,i){a(t,r,e,i)}))}return i=i?i.then(n,n):n()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=h(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,u;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,n=function e(){for(;++a<t.length;)if(r.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,s(w,"constructor",m),s(m,"constructor",p),p.displayName=s(m,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,o,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},b(_.prototype),s(_.prototype,n,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,a,i,n){void 0===n&&(n=Promise);var o=new _(l(e,r,a,i),n);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(w),s(w,o,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var a=e.pop();if(a in t)return r.value=a,r.done=!1,r}return r.done=!0,r}},t.values=O,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(r,a){return o.type="throw",o.arg=t,e.next=r,a&&(e.method="next",e.arg=void 0),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],o=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var s=r.call(n,"catchLoc"),c=r.call(n,"finallyLoc");if(s&&c){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var a=r.completion;if("throw"===a.type){var i=a.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function f(t,e,r,a,i,n,o){try{var s=t[n](o),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(a,i)}function p(t){return function(){var e=this,r=arguments;return new Promise((function(a,i){var n=t.apply(e,r);function o(t){f(n,a,i,o,s,"next",t)}function s(t){f(n,a,i,o,s,"throw",t)}o(void 0)}))}}const m={props:{width:{type:Number,default:560},height:{type:Number,default:420},user:{type:Object,required:!0}},created:function(){o().set({width:this.width,height:this.height,flip_horiz:!0})},data:function(){return{form:{},result:!1,shiftByJob:[],base64URI:""}},mounted:function(){this.$nextTick((function(){o().attach("#camera"),s("video").css("borderRadius","15px")}))},methods:{getShiftByJob:function(){var t=this;return p(d().mark((function e(){var r,a,i,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/api/shift_select?by_job_id=".concat(t.user.job_id));case 2:if(e.t1=r=e.sent.data,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==r;case 6:if(!e.t0){e.next=10;break}e.t2=r,e.next=11;break;case 10:e.t2={};case 11:i=e.t2,n=i.results,t.shiftByJob=null!==(a=n.data)&&void 0!==a?a:[],t.shiftByJob.length&&(t.form.shift_id=t.shiftByJob[0].id);case 15:case"end":return e.stop()}}),e)})))()},onCameraSnap:function(){var t=this;return p(d().mark((function e(){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.result=!0,o().snap((function(t){return r=t})),t.destroyCamera(),t.base64URI=r,t.form=h({image:r},t.form),t.$emit("snap",t.form);case 6:case"end":return e.stop()}}),e)})))()},destroyCamera:function(){o().reset(),s(this.$refs.camera).css("display","none")}},destroyed:function(){this.destroyCamera()},watch:{user:{immediate:!0,handler:function(t){var e=this;return p(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.id){r.next=3;break}return r.next=3,e.getShiftByJob();case 3:case"end":return r.stop()}}),r)})))()}}}};var v=r(3379),g=r.n(v),y=r(1951),w={insert:"head",singleton:!1};g()(y.Z,w);y.Z.locals;var b=r(1900);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function x(){x=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",n=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,a){var i=e&&e.prototype instanceof u?e:u,n=Object.create(i.prototype),o=new E(a||[]);return n._invoke=function(t,e,r){var a="suspendedStart";return function(i,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===i)throw n;return T()}for(r.method=i,r.arg=n;;){var o=r.delegate;if(o){var s=b(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var c=l(t,e,r);if("normal"===c.type){if(a=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a="completed",r.method="throw",r.arg=c.arg)}}}(t,r,o),n}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function u(){}function d(){}function f(){}var p={};s(p,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(O([])));v&&v!==e&&r.call(v,i)&&(p=v);var g=f.prototype=u.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function a(i,n,o,s){var c=l(t[i],t,n);if("throw"!==c.type){var h=c.arg,u=h.value;return u&&"object"==_(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){a("next",t,o,s)}),(function(t){a("throw",t,o,s)})):e.resolve(u).then((function(t){h.value=t,o(h)}),(function(t){return a("throw",t,o,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,i){a(t,r,e,i)}))}return i=i?i.then(n,n):n()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=l(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,h;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,n=function e(){for(;++a<t.length;)if(r.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(w.prototype),s(w.prototype,n,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,a,i,n){void 0===n&&(n=Promise);var o=new w(c(e,r,a,i),n);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var a=e.pop();if(a in t)return r.value=a,r.done=!1,r}return r.done=!0,r}},t.values=O,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(r,a){return o.type="throw",o.arg=t,e.next=r,a&&(e.method="next",e.arg=void 0),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],o=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var s=r.call(n,"catchLoc"),c=r.call(n,"finallyLoc");if(s&&c){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var a=r.completion;if("throw"===a.type){var i=a.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function k(t,e,r,a,i,n,o){try{var s=t[n](o),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(a,i)}function L(t){return function(){var e=this,r=arguments;return new Promise((function(a,i){var n=t.apply(e,r);function o(t){k(n,a,i,o,s,"next",t)}function s(t){k(n,a,i,o,s,"throw",t)}o(void 0)}))}}const E={components:{Camera:(0,b.Z)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-body d-flex flex-column justify-content-center"},[e("div",[e("span",{staticClass:"me-2"},[e("small",{staticClass:"text-muted"},[t._v("Name: ")]),t._v(" "),e("h6",{staticClass:"d-inline-block"},[t._v(t._s(t.user.name))]),t._v(",\n    ")]),t._v(" "),e("span",[e("small",{staticClass:"text-muted"},[t._v("Job: ")]),t._v(" "),e("h6",{staticClass:"d-inline-block"},[t._v(t._s(t.user.job.name))])])]),t._v(" "),e("div",{staticClass:"d-flex mb-3 justify-content-center"},[e("div",{ref:"camera",attrs:{id:"camera"}}),t._v(" "),t.base64URI?e("div",{attrs:{id:"result"}},[e("img",{staticClass:"result",attrs:{src:t.base64URI,alt:"absent"}})]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.shift_id,expression:"form.shift_id"}],staticClass:"form-select shadow-none form-control-line",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"shift_id",e.target.multiple?r:r[0])}}},t._l(t.shiftByJob,(function(r){return e("option",{key:r.id,domProps:{value:r.id,textContent:t._s(r.name)}})})),0)])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-center"},[t.result?e("span",{staticClass:"text-center text-capitalize fw-bold mt-1"},[e("i",{staticClass:"mdi mdi-account-check"}),t._v(" Success scan\n    ")]):e("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.onCameraSnap}},[e("i",{staticClass:"mdi mdi-camera-iris"}),t._v(" Snap camera\n    ")])])])}),[],!1,null,"b54615ec",null).exports},data:function(){return{user:{}}},mounted:function(){this.subscribeChannel()},methods:{subscribeChannel:function(){var t=this;this.$root.pusher.subscribe("scan-absent").bind("show-data-absent",(function(e){t.user=e.user,t.$forceUpdate()}))},onCameraSnap:function(){var t=arguments,e=this;return L(x().mark((function r(){var a,n;return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},n={user_id:e.user.id,shift_id:a.shift_id,image:a.image},r.prev=2,r.next=5,i().post("/api/absent",n);case 5:setTimeout((function(){e.user={},e.$refs.camera.destroyCamera(),e.$forceUpdate()}),5e3),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[2,8]])})))()}}};var O=r(3366),T={insert:"head",singleton:!1};g()(O.Z,T);O.Z.locals;const C=(0,b.Z)(E,(function(){var t=this,e=t._self._c;return e("Box",{attrs:{title:"Absent",subtitle:"Absent with QR Code and WebCam here"}},[e("div",{staticClass:"d-flex justify-content-around"},[t.user.id?e("div",[e("camera",{ref:"camera",attrs:{user:t.user},on:{snap:t.onCameraSnap}})],1):e("div",[e("div",{staticClass:"card-body d-flex flex-column"},[e("img",{staticClass:"result",attrs:{src:r(921),alt:"qrcode"}}),t._v(" "),e("span",{staticClass:"text-center text-capitalize fw-bold mt-3"},[e("i",{staticClass:"mdi mdi-qrcode-scan"}),t._v(" Scan me\n                ")])])])])])}),[],!1,null,"a38665f0",null).exports},3020:(t,e,r)=>{var a;!function(i){var o;function s(){var t=Error.apply(this,arguments);t.name=this.name="FlashError",this.stack=t.stack,this.message=t.message}function c(){var t=Error.apply(this,arguments);t.name=this.name="WebcamError",this.stack=t.stack,this.message=t.message}var l=function(){};l.prototype=Error.prototype,s.prototype=new l,c.prototype=new l;var h={version:"1.0.26",protocol:location.protocol.match(/https/i)?"https":"http",loaded:!1,live:!1,userMedia:!0,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!i.MSStream,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,swfURL:"",flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0,iosPlaceholderText:"Click here to open camera.",user_callback:null,user_canvas:null},errors:{FlashError:s,WebcamError:c},hooks:{},init:function(){var t=this;this.mediaDevices=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(t){return new Promise((function(e,r){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,t,e,r)}))}}:null,i.URL=i.URL||i.webkitURL||i.mozURL||i.msURL,this.userMedia=this.userMedia&&!!this.mediaDevices&&!!i.URL,navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21&&(this.userMedia=null),this.userMedia&&i.addEventListener("beforeunload",(function(e){t.reset()}))},exifOrientation:function(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return console.log("Not a valid JPEG file"),0;for(var r=2;r<t.byteLength;){if(255!=e.getUint8(r))return console.log("Not a valid marker at offset "+r+", found: "+e.getUint8(r)),0;if(225==e.getUint8(r+1)){r+=4;var a="";for(n=0;n<4;n++)a+=String.fromCharCode(e.getUint8(r+n));if("Exif"!=a)return console.log("Not valid EXIF data found"),0;r+=6;var i=null;if(18761==e.getUint16(r))i=!1;else{if(19789!=e.getUint16(r))return console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),0;i=!0}if(42!=e.getUint16(r+2,!i))return console.log("Not valid TIFF data! (no 0x002A)"),0;var o=e.getUint32(r+4,!i);if(o<8)return console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(r+4,!i)),0;for(var s=r+o,c=e.getUint16(s,!i),l=0;l<c;l++){var h=s+12*l+2;if(274==e.getUint16(h,!i)){var u=e.getUint16(h+2,!i),d=e.getUint32(h+4,!i);if(3!=u&&1!=d)return console.log("Invalid EXIF orientation value type ("+u+") or count ("+d+")"),0;var f=e.getUint16(h+8,!i);return f<1||f>8?(console.log("Invalid EXIF orientation value ("+f+")"),0):f}}}else r+=2+e.getUint16(r+2)}return 0},fixOrientation:function(t,e,r){var a=new Image;a.addEventListener("load",(function(t){var i=document.createElement("canvas"),n=i.getContext("2d");switch(e<5?(i.width=a.width,i.height=a.height):(i.width=a.height,i.height=a.width),e){case 2:n.transform(-1,0,0,1,a.width,0);break;case 3:n.transform(-1,0,0,-1,a.width,a.height);break;case 4:n.transform(1,0,0,-1,0,a.height);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,a.height,0);break;case 7:n.transform(0,-1,-1,0,a.height,a.width);break;case 8:n.transform(0,-1,1,0,0,a.width)}n.drawImage(a,0,0),r.src=i.toDataURL()}),!1),a.src=t},attach:function(t){if("string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),!t)return this.dispatch("error",new c("Could not locate DOM element to attach to."));this.container=t,t.innerHTML="";var e=document.createElement("div");if(t.appendChild(e),this.peg=e,this.params.width||(this.params.width=t.offsetWidth),this.params.height||(this.params.height=t.offsetHeight),!this.params.width||!this.params.height)return this.dispatch("error",new c("No width and/or height for webcam.  Please call set() first, or attach to a visible element."));this.params.dest_width||(this.params.dest_width=this.params.width),this.params.dest_height||(this.params.dest_height=this.params.height),this.userMedia=void 0===o?this.userMedia:o,this.params.force_flash&&(o=this.userMedia,this.userMedia=null),"number"!=typeof this.params.fps&&(this.params.fps=30);var r=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;if(this.userMedia){var n=document.createElement("video");n.setAttribute("autoplay","autoplay"),n.setAttribute("playsinline","playsinline"),n.style.width=this.params.dest_width+"px",n.style.height=this.params.dest_height+"px",1==r&&1==a||(t.style.overflow="hidden",n.style.webkitTransformOrigin="0px 0px",n.style.mozTransformOrigin="0px 0px",n.style.msTransformOrigin="0px 0px",n.style.oTransformOrigin="0px 0px",n.style.transformOrigin="0px 0px",n.style.webkitTransform="scaleX("+r+") scaleY("+a+")",n.style.mozTransform="scaleX("+r+") scaleY("+a+")",n.style.msTransform="scaleX("+r+") scaleY("+a+")",n.style.oTransform="scaleX("+r+") scaleY("+a+")",n.style.transform="scaleX("+r+") scaleY("+a+")"),t.appendChild(n),this.video=n;var s=this;this.mediaDevices.getUserMedia({audio:!1,video:this.params.constraints||{mandatory:{minWidth:this.params.dest_width,minHeight:this.params.dest_height}}}).then((function(t){n.onloadedmetadata=function(e){s.stream=t,s.loaded=!0,s.live=!0,s.dispatch("load"),s.dispatch("live"),s.flip()},"srcObject"in n?n.srcObject=t:n.src=i.URL.createObjectURL(t)})).catch((function(e){s.params.enable_flash&&s.detectFlash()?setTimeout((function(){s.params.force_flash=1,s.attach(t)}),1):s.dispatch("error",e)}))}else if(this.iOS){(p=document.createElement("div")).id=this.container.id+"-ios_div",p.className="webcamjs-ios-placeholder",p.style.width=this.params.width+"px",p.style.height=this.params.height+"px",p.style.textAlign="center",p.style.display="table-cell",p.style.verticalAlign="middle",p.style.backgroundRepeat="no-repeat",p.style.backgroundSize="contain",p.style.backgroundPosition="center";var l=document.createElement("span");l.className="webcamjs-ios-text",l.innerHTML=this.params.iosPlaceholderText,p.appendChild(l);var u=document.createElement("img");u.id=this.container.id+"-ios_img",u.style.width=this.params.dest_width+"px",u.style.height=this.params.dest_height+"px",u.style.display="none",p.appendChild(u);var d=document.createElement("input");d.id=this.container.id+"-ios_input",d.setAttribute("type","file"),d.setAttribute("accept","image/*"),d.setAttribute("capture","camera");s=this;var f=this.params;d.addEventListener("change",(function(t){if(t.target.files.length>0&&0==t.target.files[0].type.indexOf("image/")){var e=URL.createObjectURL(t.target.files[0]),r=new Image;r.addEventListener("load",(function(t){var e=document.createElement("canvas");e.width=f.dest_width,e.height=f.dest_height;var a=e.getContext("2d");ratio=Math.min(r.width/f.dest_width,r.height/f.dest_height);var i=f.dest_width*ratio,n=f.dest_height*ratio,o=(r.width-i)/2,s=(r.height-n)/2;a.drawImage(r,o,s,i,n,0,0,f.dest_width,f.dest_height);var c=e.toDataURL();u.src=c,p.style.backgroundImage="url('"+c+"')"}),!1);var a=new FileReader;a.addEventListener("load",(function(t){var a=s.exifOrientation(t.target.result);a>1?s.fixOrientation(e,a,r):r.src=e}),!1);var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(t){200!=this.status&&0!==this.status||a.readAsArrayBuffer(this.response)},i.send()}}),!1),d.style.display="none",t.appendChild(d),p.addEventListener("click",(function(t){f.user_callback?s.snap(f.user_callback,f.user_canvas):(d.style.display="block",d.focus(),d.click(),d.style.display="none")}),!1),t.appendChild(p),this.loaded=!0,this.live=!0}else if(this.params.enable_flash&&this.detectFlash()){var p;i.Webcam=h,(p=document.createElement("div")).innerHTML=this.getSWFHTML(),t.appendChild(p)}else this.dispatch("error",new c(this.params.noInterfaceFoundText));if(this.params.crop_width&&this.params.crop_height){var m=Math.floor(this.params.crop_width*r),v=Math.floor(this.params.crop_height*a);t.style.width=m+"px",t.style.height=v+"px",t.style.overflow="hidden",t.scrollLeft=Math.floor(this.params.width/2-m/2),t.scrollTop=Math.floor(this.params.height/2-v/2)}else t.style.width=this.params.width+"px",t.style.height=this.params.height+"px"},reset:function(){if(this.preview_active&&this.unfreeze(),this.unflip(),this.userMedia){if(this.stream)if(this.stream.getVideoTracks){var t=this.stream.getVideoTracks();t&&t[0]&&t[0].stop&&t[0].stop()}else this.stream.stop&&this.stream.stop();delete this.stream,delete this.video}if(!0!==this.userMedia&&this.loaded&&!this.iOS){var e=this.getMovie();e&&e._releaseCamera&&e._releaseCamera()}this.container&&(this.container.innerHTML="",delete this.container),this.loaded=!1,this.live=!1},set:function(){if(1==arguments.length)for(var t in arguments[0])this.params[t]=arguments[0][t];else this.params[arguments[0]]=arguments[1]},on:function(t,e){t=t.replace(/^on/i,"").toLowerCase(),this.hooks[t]||(this.hooks[t]=[]),this.hooks[t].push(e)},off:function(t,e){if(t=t.replace(/^on/i,"").toLowerCase(),this.hooks[t])if(e){var r=this.hooks[t].indexOf(e);r>-1&&this.hooks[t].splice(r,1)}else this.hooks[t]=[]},dispatch:function(){var t,e=arguments[0].replace(/^on/i,"").toLowerCase(),r=Array.prototype.slice.call(arguments,1);if(this.hooks[e]&&this.hooks[e].length){for(var a=0,n=this.hooks[e].length;a<n;a++){var o=this.hooks[e][a];"function"==typeof o?o.apply(this,r):"object"==typeof o&&2==o.length?o[0][o[1]].apply(o[0],r):i[o]&&i[o].apply(i,r)}return!0}return"error"==e&&(t=r[0]instanceof s||r[0]instanceof c?r[0].message:"Could not access webcam: "+r[0].name+": "+r[0].message+" "+r[0].toString(),alert("Webcam.js Error: "+t)),!1},setSWFLocation:function(t){this.set("swfURL",t)},detectFlash:function(){var t="Shockwave Flash",e="application/x-shockwave-flash",r=i,a=navigator,n=!1;if(void 0!==a.plugins&&"object"==typeof a.plugins[t])a.plugins[t].description&&void 0!==a.mimeTypes&&a.mimeTypes[e]&&a.mimeTypes[e].enabledPlugin&&(n=!0);else if(void 0!==r.ActiveXObject)try{var o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(o)o.GetVariable("$version")&&(n=!0)}catch(t){}return n},getSWFHTML:function(){var t="",e=this.params.swfURL;if(location.protocol.match(/file/))return this.dispatch("error",new s("Flash does not work from local disk.  Please run from a web server.")),'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';if(!this.detectFlash())return this.dispatch("error",new s("Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again.")),'<h3 style="color:red">'+this.params.flashNotDetectedText+"</h3>";if(!e){for(var r="",a=document.getElementsByTagName("script"),n=0,o=a.length;n<o;n++){var c=a[n].getAttribute("src");c&&c.match(/\/webcam(\.min)?\.js/)&&(r=c.replace(/\/webcam(\.min)?\.js.*$/,""),n=o)}e=r?r+"/webcam.swf":"webcam.swf"}i.localStorage&&!localStorage.getItem("visited")&&(this.params.new_user=1,localStorage.setItem("visited",1));var l="";for(var h in this.params)l&&(l+="&"),l+=h+"="+escape(this.params[h]);return t+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+e+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+l+'"/><embed id="webcam_movie_embed" src="'+e+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+l+'"></embed></object>'},getMovie:function(){if(!this.loaded)return this.dispatch("error",new s("Flash Movie is not loaded yet"));var t=document.getElementById("webcam_movie_obj");return t&&t._snap||(t=document.getElementById("webcam_movie_embed")),t||this.dispatch("error",new s("Cannot locate Flash movie in DOM")),t},freeze:function(){var t=this,e=this.params;this.preview_active&&this.unfreeze();var r=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;this.unflip();var i=e.crop_width||e.dest_width,n=e.crop_height||e.dest_height,o=document.createElement("canvas");o.width=i,o.height=n;var s=o.getContext("2d");this.preview_canvas=o,this.preview_context=s,1==r&&1==a||(o.style.webkitTransformOrigin="0px 0px",o.style.mozTransformOrigin="0px 0px",o.style.msTransformOrigin="0px 0px",o.style.oTransformOrigin="0px 0px",o.style.transformOrigin="0px 0px",o.style.webkitTransform="scaleX("+r+") scaleY("+a+")",o.style.mozTransform="scaleX("+r+") scaleY("+a+")",o.style.msTransform="scaleX("+r+") scaleY("+a+")",o.style.oTransform="scaleX("+r+") scaleY("+a+")",o.style.transform="scaleX("+r+") scaleY("+a+")"),this.snap((function(){o.style.position="relative",o.style.left=t.container.scrollLeft+"px",o.style.top=t.container.scrollTop+"px",t.container.insertBefore(o,t.peg),t.container.style.overflow="hidden",t.preview_active=!0}),o)},unfreeze:function(){this.preview_active&&(this.container.removeChild(this.preview_canvas),delete this.preview_context,delete this.preview_canvas,this.preview_active=!1,this.flip())},flip:function(){if(this.params.flip_horiz){var t=this.container.style;t.webkitTransform="scaleX(-1)",t.mozTransform="scaleX(-1)",t.msTransform="scaleX(-1)",t.oTransform="scaleX(-1)",t.transform="scaleX(-1)",t.filter="FlipH",t.msFilter="FlipH"}},unflip:function(){if(this.params.flip_horiz){var t=this.container.style;t.webkitTransform="scaleX(1)",t.mozTransform="scaleX(1)",t.msTransform="scaleX(1)",t.oTransform="scaleX(1)",t.transform="scaleX(1)",t.filter="",t.msFilter=""}},savePreview:function(t,e){var r=this.params,a=this.preview_canvas,i=this.preview_context;e&&e.getContext("2d").drawImage(a,0,0);t(e?null:a.toDataURL("image/"+r.image_format,r.jpeg_quality/100),a,i),this.params.unfreeze_snap&&this.unfreeze()},snap:function(t,e){t||(t=this.params.user_callback),e||(e=this.params.user_canvas);var r=this.params;if(!this.loaded)return this.dispatch("error",new c("Webcam is not loaded yet"));if(!t)return this.dispatch("error",new c("Please provide a callback function or canvas to snap()"));if(this.preview_active)return this.savePreview(t,e),null;var a=document.createElement("canvas");a.width=this.params.dest_width,a.height=this.params.dest_height;var i=a.getContext("2d");this.params.flip_horiz&&(i.translate(r.dest_width,0),i.scale(-1,1));var n=function(){if(this.src&&this.width&&this.height&&i.drawImage(this,0,0,r.dest_width,r.dest_height),r.crop_width&&r.crop_height){var n=document.createElement("canvas");n.width=r.crop_width,n.height=r.crop_height;var o=n.getContext("2d");o.drawImage(a,Math.floor(r.dest_width/2-r.crop_width/2),Math.floor(r.dest_height/2-r.crop_height/2),r.crop_width,r.crop_height,0,0,r.crop_width,r.crop_height),i=o,a=n}e&&e.getContext("2d").drawImage(a,0,0);t(e?null:a.toDataURL("image/"+r.image_format,r.jpeg_quality/100),a,i)};if(this.userMedia)i.drawImage(this.video,0,0,this.params.dest_width,this.params.dest_height),n();else if(this.iOS){var o=document.getElementById(this.container.id+"-ios_div"),s=document.getElementById(this.container.id+"-ios_img"),l=document.getElementById(this.container.id+"-ios_input");iFunc=function(t){n.call(s),s.removeEventListener("load",iFunc),o.style.backgroundImage="none",s.removeAttribute("src"),l.value=null},l.value?iFunc(null):(s.addEventListener("load",iFunc),l.style.display="block",l.focus(),l.click(),l.style.display="none")}else{var h=this.getMovie()._snap();(s=new Image).onload=n,s.src="data:image/"+this.params.image_format+";base64,"+h}return null},configure:function(t){t||(t="camera"),this.getMovie()._configure(t)},flashNotify:function(t,e){switch(t){case"flashLoadComplete":this.loaded=!0,this.dispatch("load");break;case"cameraLive":this.live=!0,this.dispatch("live");break;case"error":this.dispatch("error",new s(e))}},b64ToUint6:function(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:43===t?62:47===t?63:0},base64DecToArr:function(t,e){for(var r,a,i=t.replace(/[^A-Za-z0-9\+\/]/g,""),n=i.length,o=e?Math.ceil((3*n+1>>2)/e)*e:3*n+1>>2,s=new Uint8Array(o),c=0,l=0,h=0;h<n;h++)if(a=3&h,c|=this.b64ToUint6(i.charCodeAt(h))<<18-6*a,3===a||n-h==1){for(r=0;r<3&&l<o;r++,l++)s[l]=c>>>(16>>>r&24)&255;c=0}return s},upload:function(t,e,r){var a=this.params.upload_name||"webcam",i="";if(!t.match(/^data\:image\/(\w+)/))throw"Cannot locate image format in Data URI";i=RegExp.$1;var n=t.replace(/^data\:image\/\w+\;base64\,/,""),o=new XMLHttpRequest;o.open("POST",e,!0),o.upload&&o.upload.addEventListener&&o.upload.addEventListener("progress",(function(t){if(t.lengthComputable){var e=t.loaded/t.total;h.dispatch("uploadProgress",e,t)}}),!1);var s=this;o.onload=function(){r&&r.apply(s,[o.status,o.responseText,o.statusText]),h.dispatch("uploadComplete",o.status,o.responseText,o.statusText)};var c=new Blob([this.base64DecToArr(n)],{type:"image/"+i}),l=new FormData;l.append(a,c,a+"."+i.replace(/e/,"")),o.send(l)}};h.init(),void 0===(a=function(){return h}.call(e,r,e,t))||(t.exports=a)}(window)}}]);